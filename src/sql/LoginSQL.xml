<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>

<sqlMap>
<select id="loginCheck" resultClass="int" parameterClass="trip.member.LoginDTO">
select count(*) from t_member where id=#id# and pw=#pw#
</select>
<select id="idcheck" resultClass="int" parameterClass="String">
	select count(*) from t_member where id=#id# 
</select>

<select id="domaincheck" resultClass="int" parameterClass="String">
select count(*) from t_member where domain=#domain# 
</select>
<select id="modify" resultClass="trip.member.LoginDTO" parameterClass="String">
select * from t_member where id=#id#
</select>

<insert id="fbInsert" parameterClass="trip.member.LoginDTO">
insert into t_member (id,fb_login) values(#id#,1)
</insert>

<insert id="joinInsert" parameterClass="trip.member.LoginDTO">
insert into t_member (id,pw,name,domain,path) values(#id#,#pw#,#name#,#domain#,#path#)
</insert>
<update id="modifyUpdate" parameterClass="trip.member.LoginDTO">
update t_member set pw=#pw#,name=#name#,domain=#domain#,path=#path# where id=#id#
</update>

<select id="path" resultClass="trip.member.LoginDTO" parameterClass="trip.member.LoginDTO">
select * from t_member where id=#id#
</select>

<select id="pw" resultClass="String" parameterClass="String">
select pw from t_member where id=#id#
</select>

<delete id="delete" parameterClass="String">
delete from t_member where id=#dbid#
</delete>

</sqlMap>